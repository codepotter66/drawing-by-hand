class HandDrawingApp{constructor(){this.video=document.getElementById("video"),this.canvas=document.getElementById("canvas"),this.templateCanvas=document.getElementById("templateCanvas"),this.fingerCanvas=document.getElementById("fingerCanvas"),this.ctx=this.canvas.getContext("2d"),this.templateCtx=this.templateCanvas.getContext("2d"),this.fingerCtx=this.fingerCanvas.getContext("2d"),this.clearBtn=document.getElementById("clearBtn"),this.toggleCameraBtn=document.getElementById("toggleCamera"),this.colorPicker=document.getElementById("colorPicker"),this.includeTemplate=document.getElementById("includeTemplate"),this.includeTemplate.checked=!1,this.toggleInstructionsBtn=document.getElementById("toggleInstructions"),this.closeInstructionsBtn=document.getElementById("closeInstructions"),this.instructions=document.getElementById("instructions"),this.toggleTemplatesBtn=document.getElementById("toggleTemplates"),this.closeTemplatesBtn=document.getElementById("closeTemplates"),this.templatesModal=document.getElementById("templatesModal"),this.brushTool=document.getElementById("brushTool"),this.eraserTool=document.getElementById("eraserTool"),this.saveBtn=document.getElementById("saveBtn"),this.cameraPlaceholder=document.getElementById("cameraPlaceholder"),this.isDrawing=!1,this.lastX=0,this.lastY=0,this.cameraActive=!1,this.canvasSize={width:1e3,height:750},this.currentTool="brush",this.hands=new Hands({locateFile:t=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${t}`}),this.initCanvasSize(),this.camera=new Camera(this.video,{onFrame:async()=>{await this.hands.send({image:this.video})},width:this.canvasSize.width,height:this.canvasSize.height}),window.addEventListener("resize",()=>this.handleResize()),this.initHands(),this.initEventListeners(),this.initCanvas(),this.showPlaceholder(),this.hideCanvas()}initHands(){this.hands.setOptions({maxNumHands:1,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),this.hands.onResults(t=>{this.onHandResults(t)})}initEventListeners(){this.clearBtn.addEventListener("click",()=>{this.clearCanvas()}),this.saveBtn.addEventListener("click",()=>{this.saveCanvas()}),this.toggleCameraBtn.addEventListener("click",()=>{this.toggleCamera()}),this.brushTool.addEventListener("click",()=>{this.selectTool("brush")}),this.eraserTool.addEventListener("click",()=>{this.selectTool("eraser")}),this.colorPicker.addEventListener("change",t=>{this.setColor(t.target.value)}),document.querySelectorAll(".color-btn").forEach(t=>{t.addEventListener("click",t=>{const e=t.target.dataset.color;this.setColor(e),this.colorPicker.value=e,this.updateColorButtons(e)})}),document.querySelectorAll(".size-btn").forEach(t=>{t.addEventListener("click",t=>{const e=parseInt(t.target.dataset.size);this.setBrushSize(e),this.updateSizeButtons(t.target)})}),this.toggleInstructionsBtn.addEventListener("click",()=>{this.showInstructions()}),this.closeInstructionsBtn.addEventListener("click",()=>{this.hideInstructions()}),this.instructions.addEventListener("click",t=>{t.target===this.instructions&&this.hideInstructions()}),this.toggleTemplatesBtn.addEventListener("click",()=>{this.showTemplates()}),this.closeTemplatesBtn.addEventListener("click",()=>{this.hideTemplates()}),this.templatesModal.addEventListener("click",t=>{t.target===this.templatesModal&&this.hideTemplates()}),document.querySelectorAll(".template-item").forEach(t=>{t.addEventListener("click",t=>{const e=t.currentTarget.dataset.template;this.loadTemplate(e),this.hideTemplates()})})}initCanvas(){this.ctx.strokeStyle=this.colorPicker.value,this.ctx.lineWidth=8,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.globalCompositeOperation="source-over",this.updateColorButtons(this.colorPicker.value)}initCanvasSize(){const t=this.canvas.parentElement.getBoundingClientRect(),e=t.width-40,i=t.height-40;let a=e,s=3*a/4;s>i&&(s=i,a=4*s/3),this.canvasSize={width:Math.floor(a),height:Math.floor(s)},this.canvas.width=this.canvasSize.width,this.canvas.height=this.canvasSize.height,this.templateCanvas.width=this.canvasSize.width,this.templateCanvas.height=this.canvasSize.height,this.fingerCanvas.width=this.canvasSize.width,this.fingerCanvas.height=this.canvasSize.height,this.video.style.width=this.canvasSize.width+"px",this.video.style.height=this.canvasSize.height+"px",this.initCanvas(),console.log("Canvas尺寸:",this.canvasSize),console.log("视频尺寸:",this.video.style.width,"x",this.video.style.height)}handleResize(){this.initCanvasSize(),this.cameraActive&&this.camera.stop().then(()=>{this.camera=new Camera(this.video,{onFrame:async()=>{await this.hands.send({image:this.video})},width:this.canvasSize.width,height:this.canvasSize.height}),this.camera.start()})}async toggleCamera(){this.cameraActive?(await this.camera.stop(),this.cameraActive=!1,this.toggleCameraBtn.textContent="摄像头",this.showPlaceholder(),this.hideCanvas()):(this.camera=new Camera(this.video,{onFrame:async()=>{await this.hands.send({image:this.video})},width:this.canvasSize.width,height:this.canvasSize.height}),await this.camera.start(),this.cameraActive=!0,this.toggleCameraBtn.textContent="关闭",this.hidePlaceholder(),this.showCanvas())}clearCanvas(){this.ctx.clearRect(0,0,this.canvasSize.width,this.canvasSize.height),this.templateCtx.clearRect(0,0,this.canvasSize.width,this.canvasSize.height),this.clearFingerPoint(),this.initCanvas(),this.currentTemplate=null}onHandResults(t){if(t.multiHandLandmarks&&t.multiHandLandmarks.length>0){const e=t.multiHandLandmarks[0];if(!e||e.length<21)return this.isDrawing=!1,void this.clearFingerPoint();const i=e[8];if(!i||void 0===i.x)return this.isDrawing=!1,void this.clearFingerPoint();const a=i.x*this.canvasSize.width,s=i.y*this.canvasSize.height,h=this.shouldStartDrawing(e);h?(this.isDrawing||(this.isDrawing=!0,this.lastX=a,this.lastY=s),this.ctx.beginPath(),this.ctx.moveTo(this.lastX,this.lastY),this.ctx.lineTo(a,s),this.ctx.stroke(),this.lastX=a,this.lastY=s):this.isDrawing=!1,this.drawFingerPoint(a,s,h)}else this.isDrawing=!1,this.clearFingerPoint()}shouldStartDrawing(t){if(!t||t.length<21)return!1;const e=t[4],i=t[3],a=t[8],s=t[6];if(!(e&&i&&a&&s))return!1;const h=this.calculateDistance(e,a),o=this.calculateDistance(e,i),n=this.calculateDistance(a,s);return h<.8*Math.min(o,n)}calculateDistance(t,e){if(!t||!e||void 0===t.x||void 0===e.x||void 0===t.y||void 0===e.y||void 0===t.z||void 0===e.z)return 0;const i=t.x-e.x,a=t.y-e.y,s=t.z-e.z;return Math.sqrt(i*i+a*a+s*s)}drawFingerPoint(t,e,i){this.clearFingerPoint(),this.fingerCtx.save(),i?(this.fingerCtx.fillStyle="#ff0000",this.fingerCtx.strokeStyle="#ffffff",this.fingerCtx.lineWidth=2):(this.fingerCtx.fillStyle="#0066ff",this.fingerCtx.strokeStyle="#ffffff",this.fingerCtx.lineWidth=2),this.fingerCtx.beginPath(),this.fingerCtx.arc(t,e,8,0,2*Math.PI),this.fingerCtx.fill(),this.fingerCtx.stroke(),this.fingerCtx.restore()}clearFingerPoint(){this.fingerCtx.clearRect(0,0,this.canvasSize.width,this.canvasSize.height)}showInstructions(){this.instructions.classList.add("show")}hideInstructions(){this.instructions.classList.remove("show")}showPlaceholder(){this.cameraPlaceholder.classList.remove("content-hidden")}hidePlaceholder(){this.cameraPlaceholder.classList.add("content-hidden")}showCanvas(){this.canvas.style.opacity="1",this.templateCanvas.style.opacity="1",this.fingerCanvas.style.opacity="1",this.video.style.opacity="1"}hideCanvas(){this.canvas.style.opacity="0",this.templateCanvas.style.opacity="0",this.fingerCanvas.style.opacity="0",this.video.style.opacity="0"}selectTool(t){this.currentTool=t,this.brushTool.classList.toggle("active","brush"===t),this.eraserTool.classList.toggle("active","eraser"===t),this.ctx.globalCompositeOperation="eraser"===t?"destination-out":"source-over"}setColor(t){this.ctx.strokeStyle=t,this.updateColorButtons(t)}updateColorButtons(t){document.querySelectorAll(".color-btn").forEach(t=>{t.classList.remove("active")}),document.querySelectorAll(".color-btn").forEach(e=>{e.dataset.color===t&&e.classList.add("active")})}saveCanvas(){const t=document.createElement("canvas"),e=t.getContext("2d");t.width=this.canvasSize.width,t.height=this.canvasSize.height,e.fillStyle="#ffffff",e.fillRect(0,0,this.canvasSize.width,this.canvasSize.height),e.scale(-1,1),e.translate(-this.canvasSize.width,0),this.includeTemplate.checked&&this.currentTemplate&&this.drawTemplateToContext(e,this.currentTemplate),e.drawImage(this.canvas,0,0);const i=document.createElement("a");i.download=`hand-drawing-${(new Date).toISOString().slice(0,19).replace(/:/g,"-")}.png`,i.href=t.toDataURL(),document.body.appendChild(i),i.click(),document.body.removeChild(i)}showTemplates(){this.templatesModal.classList.add("show")}hideTemplates(){this.templatesModal.classList.remove("show")}loadTemplate(t){this.clearCanvas(),this.drawTemplate(t)}drawTemplate(t){const e=this.canvasSize.width/2,i=this.canvasSize.height/2,a=Math.min(this.canvasSize.width,this.canvasSize.height)/100;switch(this.templateCtx.clearRect(0,0,this.canvasSize.width,this.canvasSize.height),this.templateCtx.strokeStyle="#000000",this.templateCtx.lineWidth=2,this.templateCtx.globalCompositeOperation="source-over",t){case"cat":this.drawCatToTemplate(e,i,a);break;case"dog":this.drawDogToTemplate(e,i,a);break;case"bird":this.drawBirdToTemplate(e,i,a);break;case"fish":this.drawFishToTemplate(e,i,a);break;case"flower":this.drawFlowerToTemplate(e,i,a);break;case"tree":this.drawTreeToTemplate(e,i,a);break;case"butterfly":this.drawButterflyToTemplate(e,i,a);break;case"house":this.drawHouseToTemplate(e,i,a)}this.currentTemplate=t}drawCat(t,e,i){this.ctx.beginPath(),this.ctx.arc(t,e-30*i,25*i,0,2*Math.PI),this.ctx.moveTo(t-15*i,e-45*i),this.ctx.lineTo(t-25*i,e-60*i),this.ctx.lineTo(t-10*i,e-50*i),this.ctx.moveTo(t+15*i,e-45*i),this.ctx.lineTo(t+25*i,e-60*i),this.ctx.lineTo(t+10*i,e-50*i),this.ctx.moveTo(t-20*i,e-5*i),this.ctx.quadraticCurveTo(t,e+20*i,t+20*i,e-5*i),this.ctx.moveTo(t+20*i,e-5*i),this.ctx.quadraticCurveTo(t+40*i,e-15*i,t+35*i,e+5*i),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(t-8*i,e-35*i,3*i,0,2*Math.PI),this.ctx.arc(t+8*i,e-35*i,3*i,0,2*Math.PI),this.ctx.arc(t,e-25*i,2*i,0,2*Math.PI),this.ctx.fill()}drawDog(t,e,i){this.ctx.beginPath(),this.ctx.arc(t,e-30*i,30*i,0,2*Math.PI),this.ctx.moveTo(t-20*i,e-50*i),this.ctx.quadraticCurveTo(t-30*i,e-70*i,t-15*i,e-60*i),this.ctx.moveTo(t+20*i,e-50*i),this.ctx.quadraticCurveTo(t+30*i,e-70*i,t+15*i,e-60*i),this.ctx.moveTo(t-25*i,e),this.ctx.quadraticCurveTo(t,e+30*i,t+25*i,e),this.ctx.moveTo(t+25*i,e),this.ctx.quadraticCurveTo(t+45*i,e-10*i,t+40*i,e+10*i),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(t-10*i,e-35*i,4*i,0,2*Math.PI),this.ctx.arc(t+10*i,e-35*i,4*i,0,2*Math.PI),this.ctx.arc(t,e-25*i,3*i,0,2*Math.PI),this.ctx.fill()}drawBird(t,e,i){this.ctx.beginPath(),this.ctx.ellipse(t,e,20*i,15*i,0,0,2*Math.PI),this.ctx.moveTo(t-15*i,e-10*i),this.ctx.quadraticCurveTo(t-25*i,e-20*i,t-20*i,e-5*i),this.ctx.moveTo(t+15*i,e),this.ctx.lineTo(t+25*i,e-10*i),this.ctx.lineTo(t+25*i,e+10*i),this.ctx.closePath(),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(t-5*i,e-5*i,2*i,0,2*Math.PI),this.ctx.moveTo(t+5*i,e),this.ctx.lineTo(t+10*i,e-2*i),this.ctx.stroke(),this.ctx.fill()}drawFish(t,e,i){this.ctx.beginPath(),this.ctx.ellipse(t,e,25*i,15*i,0,0,2*Math.PI),this.ctx.moveTo(t+20*i,e),this.ctx.lineTo(t+35*i,e-15*i),this.ctx.lineTo(t+35*i,e+15*i),this.ctx.closePath(),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(t-10*i,e-5*i,3*i,0,2*Math.PI),this.ctx.fill()}drawFlower(t,e,i){this.ctx.beginPath();for(let a=0;a<6;a++){const s=a*Math.PI*2/6,h=t+20*Math.cos(s)*i,o=e+20*Math.sin(s)*i;this.ctx.arc(h,o,8*i,0,2*Math.PI)}this.ctx.arc(t,e,5*i,0,2*Math.PI),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(t,e+15*i),this.ctx.lineTo(t,e+40*i),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.ellipse(t-5*i,e+30*i,8*i,3*i,Math.PI/4,0,2*Math.PI),this.ctx.stroke()}drawTree(t,e,i){this.ctx.beginPath(),this.ctx.moveTo(t,e+20*i),this.ctx.lineTo(t,e-20*i),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(t,e-30*i,25*i,0,2*Math.PI),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(t-10*i,e-10*i),this.ctx.lineTo(t-20*i,e-15*i),this.ctx.moveTo(t+10*i,e-10*i),this.ctx.lineTo(t+20*i,e-15*i),this.ctx.stroke()}drawButterfly(t,e,i){this.ctx.beginPath(),this.ctx.moveTo(t-5*i,e),this.ctx.quadraticCurveTo(t-25*i,e-20*i,t-20*i,e),this.ctx.quadraticCurveTo(t-25*i,e+20*i,t-5*i,e),this.ctx.moveTo(t+5*i,e),this.ctx.quadraticCurveTo(t+25*i,e-20*i,t+20*i,e),this.ctx.quadraticCurveTo(t+25*i,e+20*i,t+5*i,e),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(t,e-10*i),this.ctx.lineTo(t,e+10*i),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(t-3*i,e-10*i),this.ctx.quadraticCurveTo(t-8*i,e-15*i,t-5*i,e-20*i),this.ctx.moveTo(t+3*i,e-10*i),this.ctx.quadraticCurveTo(t+8*i,e-15*i,t+5*i,e-20*i),this.ctx.stroke()}drawHouse(t,e,i){this.ctx.beginPath(),this.ctx.rect(t-25*i,e-15*i,50*i,30*i),this.ctx.moveTo(t-30*i,e-15*i),this.ctx.lineTo(t,e-35*i),this.ctx.lineTo(t+30*i,e-15*i),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.rect(t-8*i,e,16*i,15*i),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.rect(t-15*i,e-10*i,8*i,8*i),this.ctx.rect(t+7*i,e-10*i,8*i,8*i),this.ctx.stroke()}setBrushSize(t){this.ctx.lineWidth=t}updateSizeButtons(t){document.querySelectorAll(".size-btn").forEach(t=>{t.classList.remove("active")}),t.classList.add("active")}drawTemplateToContext(t,e){const i=this.canvasSize.width/2,a=this.canvasSize.height/2,s=Math.min(this.canvasSize.width,this.canvasSize.height)/100;switch(t.strokeStyle="#000000",t.lineWidth=2,t.globalCompositeOperation="source-over",e){case"cat":this.drawCatToContext(t,i,a,s);break;case"dog":this.drawDogToContext(t,i,a,s);break;case"bird":this.drawBirdToContext(t,i,a,s);break;case"fish":this.drawFishToContext(t,i,a,s);break;case"flower":this.drawFlowerToContext(t,i,a,s);break;case"tree":this.drawTreeToContext(t,i,a,s);break;case"butterfly":this.drawButterflyToContext(t,i,a,s);break;case"house":this.drawHouseToContext(t,i,a,s)}}drawCatToContext(t,e,i,a){t.beginPath(),t.arc(e,i-30*a,25*a,0,2*Math.PI),t.moveTo(e-15*a,i-45*a),t.lineTo(e-25*a,i-60*a),t.lineTo(e-10*a,i-50*a),t.moveTo(e+15*a,i-45*a),t.lineTo(e+25*a,i-60*a),t.lineTo(e+10*a,i-50*a),t.moveTo(e-20*a,i-5*a),t.quadraticCurveTo(e,i+20*a,e+20*a,i-5*a),t.moveTo(e+20*a,i-5*a),t.quadraticCurveTo(e+40*a,i-15*a,e+35*a,i+5*a),t.stroke(),t.beginPath(),t.arc(e-8*a,i-35*a,3*a,0,2*Math.PI),t.arc(e+8*a,i-35*a,3*a,0,2*Math.PI),t.arc(e,i-25*a,2*a,0,2*Math.PI),t.fill()}drawDogToContext(t,e,i,a){t.beginPath(),t.arc(e,i-30*a,30*a,0,2*Math.PI),t.moveTo(e-20*a,i-50*a),t.quadraticCurveTo(e-30*a,i-70*a,e-15*a,i-60*a),t.moveTo(e+20*a,i-50*a),t.quadraticCurveTo(e+30*a,i-70*a,e+15*a,i-60*a),t.moveTo(e-25*a,i),t.quadraticCurveTo(e,i+30*a,e+25*a,i),t.moveTo(e+25*a,i),t.quadraticCurveTo(e+45*a,i-10*a,e+40*a,i+10*a),t.stroke(),t.beginPath(),t.arc(e-10*a,i-35*a,4*a,0,2*Math.PI),t.arc(e+10*a,i-35*a,4*a,0,2*Math.PI),t.arc(e,i-25*a,3*a,0,2*Math.PI),t.fill()}drawBirdToContext(t,e,i,a){t.beginPath(),t.ellipse(e,i,20*a,15*a,0,0,2*Math.PI),t.moveTo(e-15*a,i-10*a),t.quadraticCurveTo(e-25*a,i-20*a,e-20*a,i-5*a),t.moveTo(e+15*a,i),t.lineTo(e+25*a,i-10*a),t.lineTo(e+25*a,i+10*a),t.closePath(),t.stroke(),t.beginPath(),t.arc(e-5*a,i-5*a,2*a,0,2*Math.PI),t.moveTo(e+5*a,i),t.lineTo(e+10*a,i-2*a),t.stroke(),t.fill()}drawFishToContext(t,e,i,a){t.beginPath(),t.ellipse(e,i,25*a,15*a,0,0,2*Math.PI),t.moveTo(e+20*a,i),t.lineTo(e+35*a,i-15*a),t.lineTo(e+35*a,i+15*a),t.closePath(),t.stroke(),t.beginPath(),t.arc(e-10*a,i-5*a,3*a,0,2*Math.PI),t.fill()}drawFlowerToContext(t,e,i,a){t.beginPath();for(let s=0;s<6;s++){const h=s*Math.PI*2/6,o=e+20*Math.cos(h)*a,n=i+20*Math.sin(h)*a;t.arc(o,n,8*a,0,2*Math.PI)}t.arc(e,i,5*a,0,2*Math.PI),t.stroke(),t.beginPath(),t.moveTo(e,i+15*a),t.lineTo(e,i+40*a),t.stroke(),t.beginPath(),t.ellipse(e-5*a,i+30*a,8*a,3*a,Math.PI/4,0,2*Math.PI),t.stroke()}drawTreeToContext(t,e,i,a){t.beginPath(),t.moveTo(e,i+20*a),t.lineTo(e,i-20*a),t.stroke(),t.beginPath(),t.arc(e,i-30*a,25*a,0,2*Math.PI),t.stroke(),t.beginPath(),t.moveTo(e-10*a,i-10*a),t.lineTo(e-20*a,i-15*a),t.moveTo(e+10*a,i-10*a),t.lineTo(e+20*a,i-15*a),t.stroke()}drawButterflyToContext(t,e,i,a){t.beginPath(),t.moveTo(e-5*a,i),t.quadraticCurveTo(e-25*a,i-20*a,e-20*a,i),t.quadraticCurveTo(e-25*a,i+20*a,e-5*a,i),t.moveTo(e+5*a,i),t.quadraticCurveTo(e+25*a,i-20*a,e+20*a,i),t.quadraticCurveTo(e+25*a,i+20*a,e+5*a,i),t.stroke(),t.beginPath(),t.moveTo(e,i-10*a),t.lineTo(e,i+10*a),t.stroke(),t.beginPath(),t.moveTo(e-3*a,i-10*a),t.quadraticCurveTo(e-8*a,i-15*a,e-5*a,i-20*a),t.moveTo(e+3*a,i-10*a),t.quadraticCurveTo(e+8*a,i-15*a,e+5*a,i-20*a),t.stroke()}drawHouseToContext(t,e,i,a){t.beginPath(),t.rect(e-25*a,i-15*a,50*a,30*a),t.moveTo(e-30*a,i-15*a),t.lineTo(e,i-35*a),t.lineTo(e+30*a,i-15*a),t.stroke(),t.beginPath(),t.rect(e-8*a,i,16*a,15*a),t.stroke(),t.beginPath(),t.rect(e-15*a,i-10*a,8*a,8*a),t.rect(e+7*a,i-10*a,8*a,8*a),t.stroke()}drawCatToTemplate(t,e,i){this.templateCtx.beginPath(),this.templateCtx.arc(t,e-10*i,25*i,0,2*Math.PI),this.templateCtx.moveTo(t-15*i,e-25*i),this.templateCtx.lineTo(t-25*i,e-40*i),this.templateCtx.lineTo(t-10*i,e-30*i),this.templateCtx.moveTo(t+15*i,e-25*i),this.templateCtx.lineTo(t+25*i,e-40*i),this.templateCtx.lineTo(t+10*i,e-30*i),this.templateCtx.moveTo(t-20*i,e+15*i),this.templateCtx.quadraticCurveTo(t,e+40*i,t+20*i,e+15*i),this.templateCtx.moveTo(t+20*i,e+15*i),this.templateCtx.quadraticCurveTo(t+40*i,e+5*i,t+35*i,e+25*i),this.templateCtx.stroke(),this.templateCtx.beginPath(),this.templateCtx.arc(t-8*i,e-15*i,3*i,0,2*Math.PI),this.templateCtx.arc(t+8*i,e-15*i,3*i,0,2*Math.PI),this.templateCtx.arc(t,e-5*i,2*i,0,2*Math.PI),this.templateCtx.fill()}drawDogToTemplate(t,e,i){this.templateCtx.beginPath(),this.templateCtx.arc(t,e-10*i,30*i,0,2*Math.PI),this.templateCtx.moveTo(t-20*i,e-30*i),this.templateCtx.quadraticCurveTo(t-30*i,e-50*i,t-15*i,e-40*i),this.templateCtx.moveTo(t+20*i,e-30*i),this.templateCtx.quadraticCurveTo(t+30*i,e-50*i,t+15*i,e-40*i),this.templateCtx.moveTo(t-25*i,e+20*i),this.templateCtx.quadraticCurveTo(t,e+50*i,t+25*i,e+20*i),this.templateCtx.moveTo(t+25*i,e+20*i),this.templateCtx.quadraticCurveTo(t+45*i,e+10*i,t+40*i,e+30*i),this.templateCtx.stroke(),this.templateCtx.beginPath(),this.templateCtx.arc(t-10*i,e-15*i,4*i,0,2*Math.PI),this.templateCtx.arc(t+10*i,e-15*i,4*i,0,2*Math.PI),this.templateCtx.arc(t,e-5*i,3*i,0,2*Math.PI),this.templateCtx.fill()}drawBirdToTemplate(t,e,i){this.templateCtx.beginPath(),this.templateCtx.ellipse(t,e,20*i,15*i,0,0,2*Math.PI),this.templateCtx.moveTo(t-15*i,e-10*i),this.templateCtx.quadraticCurveTo(t-25*i,e-20*i,t-20*i,e-5*i),this.templateCtx.moveTo(t+15*i,e),this.templateCtx.lineTo(t+25*i,e-10*i),this.templateCtx.lineTo(t+25*i,e+10*i),this.templateCtx.closePath(),this.templateCtx.stroke(),this.templateCtx.beginPath(),this.templateCtx.arc(t-5*i,e-5*i,2*i,0,2*Math.PI),this.templateCtx.moveTo(t+5*i,e),this.templateCtx.lineTo(t+10*i,e-2*i),this.templateCtx.stroke(),this.templateCtx.fill()}drawFishToTemplate(t,e,i){this.templateCtx.beginPath(),this.templateCtx.ellipse(t,e,25*i,15*i,0,0,2*Math.PI),this.templateCtx.moveTo(t+20*i,e),this.templateCtx.lineTo(t+35*i,e-15*i),this.templateCtx.lineTo(t+35*i,e+15*i),this.templateCtx.closePath(),this.templateCtx.stroke(),this.templateCtx.beginPath(),this.templateCtx.arc(t-10*i,e-5*i,3*i,0,2*Math.PI),this.templateCtx.fill()}drawFlowerToTemplate(t,e,i){this.templateCtx.beginPath();for(let a=0;a<6;a++){const s=a*Math.PI*2/6,h=t+20*Math.cos(s)*i,o=e+20*Math.sin(s)*i;this.templateCtx.arc(h,o,8*i,0,2*Math.PI)}this.templateCtx.arc(t,e,5*i,0,2*Math.PI),this.templateCtx.stroke(),this.templateCtx.beginPath(),this.templateCtx.moveTo(t,e+15*i),this.templateCtx.lineTo(t,e+40*i),this.templateCtx.stroke(),this.templateCtx.beginPath(),this.templateCtx.ellipse(t-5*i,e+30*i,8*i,3*i,Math.PI/4,0,2*Math.PI),this.templateCtx.stroke()}drawTreeToTemplate(t,e,i){this.templateCtx.beginPath(),this.templateCtx.moveTo(t,e+20*i),this.templateCtx.lineTo(t,e-20*i),this.templateCtx.stroke(),this.templateCtx.beginPath(),this.templateCtx.arc(t,e-30*i,25*i,0,2*Math.PI),this.templateCtx.stroke(),this.templateCtx.beginPath(),this.templateCtx.moveTo(t-10*i,e-10*i),this.templateCtx.lineTo(t-20*i,e-15*i),this.templateCtx.moveTo(t+10*i,e-10*i),this.templateCtx.lineTo(t+20*i,e-15*i),this.templateCtx.stroke()}drawButterflyToTemplate(t,e,i){this.templateCtx.beginPath(),this.templateCtx.moveTo(t-5*i,e),this.templateCtx.quadraticCurveTo(t-25*i,e-20*i,t-20*i,e),this.templateCtx.quadraticCurveTo(t-25*i,e+20*i,t-5*i,e),this.templateCtx.moveTo(t+5*i,e),this.templateCtx.quadraticCurveTo(t+25*i,e-20*i,t+20*i,e),this.templateCtx.quadraticCurveTo(t+25*i,e+20*i,t+5*i,e),this.templateCtx.stroke(),this.templateCtx.beginPath(),this.templateCtx.moveTo(t,e-10*i),this.templateCtx.lineTo(t,e+10*i),this.templateCtx.stroke(),this.templateCtx.beginPath(),this.templateCtx.moveTo(t-3*i,e-10*i),this.templateCtx.quadraticCurveTo(t-8*i,e-15*i,t-5*i,e-20*i),this.templateCtx.moveTo(t+3*i,e-10*i),this.templateCtx.quadraticCurveTo(t+8*i,e-15*i,t+5*i,e-20*i),this.templateCtx.stroke()}drawHouseToTemplate(t,e,i){this.templateCtx.beginPath(),this.templateCtx.rect(t-25*i,e-15*i,50*i,30*i),this.templateCtx.moveTo(t-30*i,e-15*i),this.templateCtx.lineTo(t,e-35*i),this.templateCtx.lineTo(t+30*i,e-15*i),this.templateCtx.stroke(),this.templateCtx.beginPath(),this.templateCtx.rect(t-8*i,e,16*i,15*i),this.templateCtx.stroke(),this.templateCtx.beginPath(),this.templateCtx.rect(t-15*i,e-10*i,8*i,8*i),this.templateCtx.rect(t+7*i,e-10*i,8*i,8*i),this.templateCtx.stroke()}}document.addEventListener("DOMContentLoaded",()=>{new HandDrawingApp});